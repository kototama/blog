---
title: "Playing with Haskell"
date: 2014-07-27
layout: post
categories: 
- Haskell
tags: 
published: true
comments: true
---
<p>
After reading a few books on Haskell I had to face the reality:
learning by doing a project was necessary! 
</p>

<p>
I chose a project which was easy enough to be finished in a few weeks
or months (but still slightly challenging) and had a practical
utility.
</p>

<p>
My project is a JSON command-line utility loosely inspired by
<a href="https://github.com/ddopson/underscore-cli">underscore-cli</a> and <a href="https://github.com/gelisam/hawk">Hawk</a>. Arbitrary <a href="https://hackage.haskell.org/package/lens">Lens</a> expressions can be used to
filter or transform the input.
</p>

<p>
If you don't know what Lens are, think of them as
getters/setters/filters/functions combinators similar to JQuery or CSS
selectors but for any type of data-structures. I'm still a beginner
regarding Lens.
</p>

<p>
The challenge for me was to learn how to dynamically evaluate Haskell
expressions. This is uncommon since Haskell is statically typed. The
library I used to do that is naturally limited in its functionality in
comparison to a Lisp but the final result is all but disappointing.
</p>

<p>
For the purpose of my program I implemented a pretty printer for JSON
similar to <a href="https://hackage.haskell.org/package/aeson-pretty">aeson-pretty</a> but with colors. Maybe I should package it for
Hackage?
</p>

<p>
Once I had <a href="https://github.com/bitc/hdevtools">hdevtools</a> setup for cabal sandboxes, programming in Haskell
was enjoyable. Refactoring is easy thanks to the strong type system. I
was stuck once or twice with the type system but the people on the
#haskell channel were helpful. The code has a certain form of esthetic
even if I feel more knowledge would allow me to be cleaner. For
example I wonder if it is possible to avoid pattern matching on <code>Left</code>
and <code>Right</code> for multiple calls which return something like <code>IO (Either
x y)</code>, since both <code>IO</code> and <code>Either</code> are monads.
</p>

<p>
You can have a look at the project here:
</p>

<p>
<a href="https://github.com/kototama/jp">https://github.com/kototama/jp</a>
</p>
